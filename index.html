<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Feliz aniversário, Karols!</title>
<style>
html, body {
  height: 100%;
  margin: 0;
  background: #000;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
  color: #fff;
  overflow: hidden;
}
canvas { display: block; width:100vw; height:100vh; }

.star, .heart {
  position: absolute;
  opacity: 0.8;
  animation: float linear infinite, blink 2s infinite;
}

.star { width: 4px; height: 4px; background: #9b59b6; border-radius: 50%; }
.heart { width: 12px; height: 12px; background: #9b59b6; transform: rotate(-45deg); }
.heart::before, .heart::after {
  content: "";
  position: absolute;
  width: 12px; height: 12px;
  background: #9b59b6;
  border-radius: 50%;
}
.heart::before { top: -6px; left: 0; }
.heart::after { top: 0; left: 6px; }

@keyframes float { 0% { transform: translateY(0); } 50% { transform: translateY(-10px); } 100% { transform: translateY(0); } }
@keyframes blink { 0%,50%,100%{opacity:0.8;} 25%,75%{opacity:0.3;} }
</style>
</head>
<body>

<canvas id="canvas" aria-label="Coração animado com texto 'Feliz aniversário, Karols!'"></canvas>

<script>
// ======== Corações e estrelas flutuantes ========
function createParticles(num, type) {
  for (let i=0;i<num;i++){
    const el = document.createElement('div');
    el.className = type;
    el.style.left = Math.random()*100 + 'vw';
    el.style.top = Math.random()*100 + 'vh';
    const size = (type==='heart') ? 8 + Math.random()*8 : 2 + Math.random()*3;
    el.style.width = el.style.height = size + 'px';
    el.style.animationDuration = 2 + Math.random()*3 + 's';
    document.body.appendChild(el);
  }
}
createParticles(40,'star');
createParticles(20,'heart');

// ======== Coração com texto no canvas ========
const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');

function resize() {
  const dpr = window.devicePixelRatio || 1;
  canvas.width = Math.floor(window.innerWidth*dpr);
  canvas.height = Math.floor(window.innerHeight*dpr);
  canvas.style.width = window.innerWidth + 'px';
  canvas.style.height = window.innerHeight + 'px';
  ctx.setTransform(dpr,0,0,dpr,0,0);
}
window.addEventListener('resize', resize, {passive:true});
resize();

const text = 'Feliz aniversário, Karols! ';
const POINTS = 200;
const pts = [];

function heart(t) {
  const x = 16 * Math.pow(Math.sin(t),3);
  const y = -(13*Math.cos(t)-5*Math.cos(2*t)-2*Math.cos(3*t)-Math.cos(4*t));
  return [x,y];
}

for (let i=0;i<POINTS;i++){
  const t = (i/POINTS)*Math.PI*2;
  const [x,y] = heart(t);
  pts.push({x,y,t});
}

function draw(now){
  const w = window.innerWidth, h = window.innerHeight;
  ctx.clearRect(0,0,w,h);
  const scale = Math.min(w,h)/50;
  const cx = w/2, cy = h/2.2;
  const time = now/1000;
  const rotate = Math.sin(time*0.7)*0.08;
  const offsetRadius = Math.sin(time*1.2)*3;

  ctx.save();
  ctx.translate(cx,cy);
  ctx.rotate(rotate);

  for (let i=0;i<pts.length;i++){
    const p = pts[i];
    const px = p.x*scale;
    const py = p.y*scale;
    const nx = px + (p.x/Math.hypot(p.x,p.y))*offsetRadius;
    const ny = py + (p.y/Math.hypot(p.x,p.y))*offsetRadius;
    const angle = Math.atan2(ny,nx)+Math.PI/2+Math.sin(time+i*0.02)*0.15;

    ctx.save();
    ctx.translate(nx,ny);
    ctx.rotate(angle);
    const fontSize = Math.max(10, Math.min(20, Math.floor(Math.min(w,h)*0.018)));
    ctx.font = `bold ${fontSize}px -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial`;
    ctx.fillStyle = '#ff98c2';
    ctx.shadowColor='rgba(255,200,240,0.9)';
    ctx.shadowBlur=8;
    const ch = text[i % text.length];
    ctx.textBaseline='middle';
    ctx.fillText(ch,0,0);
    ctx.restore();
  }

  ctx.restore();

  const innerR = Math.min(w,h)*0.14;
  ctx.save(); ctx.globalCompositeOperation='destination-out';
  ctx.beginPath(); ctx.arc(cx,cy,innerR,0,Math.PI*2); ctx.fill(); ctx.restore();

  ctx.save();
  ctx.beginPath(); ctx.arc(cx,cy,innerR+2,0,Math.PI*2);
  ctx.strokeStyle='rgba(255,150,200,0.06)';
  ctx.lineWidth=Math.min(w,h)*0.02;
  ctx.stroke();
  ctx.restore();

  requestAnimationFrame(draw);
}
requestAnimationFrame(draw);
</script>
</body>
</html>
