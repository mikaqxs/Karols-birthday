<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Feliz aniversÃ¡rio, Karols!</title>
<style>
html, body {
  margin:0;
  padding:0;
  height:100%;
  background:#000;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial,sans-serif;
  color:#9b59b6;
  overflow:hidden;
  text-align:center;
}
h1,h3{
  margin:10px auto;
  max-width:90vw;
  line-height:1.4em;
  font-size:clamp(16px,4vw,24px);
}
.messageButton{
  margin:15px auto; padding:12px 25px;
  font-size:clamp(14px,4vw,20px);
  background-color:#9b59b6;
  color:white;
  border:none;
  border-radius:10px;
  cursor:pointer;
  box-shadow:2px 2px 8px rgba(0,0,0,0.3);
}
canvas { display:block; width:100vw; height:100vh; }

.star, .heart {
  position:absolute;
  opacity:0.8;
  animation: float linear infinite, blink 2s infinite;
  pointer-events:none;
}
.star { width:4px; height:4px; background:#9b59b6; border-radius:50%; }
.heart { width:12px; height:12px; background:#9b59b6; transform: rotate(-45deg); }
.heart::before, .heart::after { content:""; position:absolute; width:12px;height:12px; background:#9b59b6; border-radius:50%; }
.heart::before{top:-6px; left:0;} .heart::after{top:0; left:6px;}
@keyframes float {0%{transform:translateY(0);}50%{transform:translateY(-10px);}100%{transform:translateY(0);}}
@keyframes blink {0%,50%,100%{opacity:0.8;}25%,75%{opacity:0.3;}}
</style>
</head>
<body>

<h1>Karols, passei horas fazendo isso pra vocÃª. Espero que goste!! ðŸ’œâœ¨ðŸ¥³</h1>
<div id="countdown"></div>

<button id="messageClick" class="messageButton">Clique aqui para ver a mensagem!</button>
<h3 id="messageDisplay"></h3>

<button id="birthdayButton" class="messageButton" style="display:none;">Clique para ver a mensagem final!</button>
<h3 id="birthdayMessage" style="display:none;"></h3>

<button id="heartButton" class="messageButton" style="display:none;">Clique para a surpresa final!</button>
<canvas id="canvas" aria-label="CoraÃ§Ã£o animado com texto 'Feliz aniversÃ¡rio, Karols!'" style="display:none;"></canvas>

<script>
// ======== PartÃ­culas de fundo ========
function createParticles(num, type) {
  for (let i=0;i<num;i++){
    const el = document.createElement('div');
    el.className = type;
    el.style.left = Math.random()*100 + 'vw';
    el.style.top = Math.random()*100 + 'vh';
    const size = (type==='heart') ? 8 + Math.random()*6 : 2 + Math.random()*2;
    el.style.width = el.style.height = size + 'px';
    el.style.animationDuration = 2 + Math.random()*3 + 's';
    document.body.appendChild(el);
  }
}
createParticles(40,'star');
createParticles(20,'heart');

// ======== Contador ========
const countdownEl=document.getElementById('countdown');
const birthday=new Date(); birthday.setFullYear(2025,10,29); birthday.setHours(0,0,0,0);
function updateCountdown(){
  const now=new Date(); const diff=birthday-now;
  if(diff<=0){countdownEl.innerHTML="ðŸŽ‚ Ã‰ HOJE O ANIVERSÃRIO! ðŸŽ‚"; document.getElementById('messageClick').style.display='block';}
  else{
    const days=Math.floor(diff/(1000*60*60*24));
    const hours=Math.floor((diff/(1000*60*60))%24);
    const minutes=Math.floor((diff/(1000*60))%60);
    const seconds=Math.floor((diff/1000)%60);
    countdownEl.innerHTML=`Faltam ${days} dias ${hours}h ${minutes}m ${seconds}s para o aniversÃ¡rio!`;
  }
}
setInterval(updateCountdown,1000); updateCountdown();

// ======== Mensagens curtas ========
const messages=[
  "Karols, hoje Ã© seu dia! ðŸ¥³ðŸŽ‰",
  "Espero que goste do que fiz pra voce!ðŸ¤ŸðŸ¼",
  "Ã‰ simples mas fiz de coraÃ§Ã£o! ðŸ˜",
  "VocÃª Ã© especial pra mim! ðŸ’œ",
  "Adoro sua companhia! ðŸ’œ",
  "Feliz aniversÃ¡rio Karolayne Porto Romao! ðŸŽ‰ðŸŽ‰"
];
let index=0;
const messageDisplay=document.getElementById('messageDisplay');
const messageClick=document.getElementById('messageClick');
const birthdayButton=document.getElementById('birthdayButton');
const birthdayMessage=document.getElementById('birthdayMessage');
const heartButton=document.getElementById('heartButton');

messageClick.onclick=function(){
  if(index<messages.length){messageDisplay.innerHTML=messages[index]; index++;}
  if(index===messages.length){birthdayButton.style.display='block'; messageClick.style.display='none';}
}

// ======== Texto longo ========
const finalText = "NÃ£o sei por onde comeÃ§ar mas saiba que vocÃª Ã© importante pra mim. Sua amizade trouxe cor pra minha vida, adoro ter vc por perto. Vou aproveitar que hoje Ã© seu aniversÃ¡rio e te desejar tudo de bom e colocar aquelas frases clichÃªs de texto de aniversÃ¡rio que Ã© â€œfeliz aniversÃ¡rio karols, que essa data se repita por muitos anos! VocÃª eh tudo de bom!!! Te desejo muitas coisas boas que essa vida tem a oferecer e que um dia vc se case com o Namjoon do BTS ðŸ¤£ðŸ¤£ðŸŽ‰ðŸ¥³ðŸ’œâœ¨";

birthdayButton.onclick=function(){
  birthdayMessage.style.display='block';
  birthdayMessage.style.fontSize = "clamp(14px,4vw,18px)";
  birthdayMessage.innerHTML = finalText;
  heartButton.style.display='block';
  birthdayButton.style.display='none';
}

// ======== Canvas coraÃ§Ã£o final ========
const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');

function resize() {
  const dpr = window.devicePixelRatio || 1;
  canvas.width = Math.floor(window.innerWidth*dpr);
  canvas.height = Math.floor(window.innerHeight*dpr);
  canvas.style.width = window.innerWidth + 'px';
  canvas.style.height = window.innerHeight + 'px';
  ctx.setTransform(dpr,0,0,dpr,0,0);
}
window.addEventListener('resize', resize, {passive:true});
resize();

const POINTS = 200;
const pts = [];
function heart(t){ const x = 16*Math.pow(Math.sin(t),3); const y=-(13*Math.cos(t)-5*Math.cos(2*t)-2*Math.cos(3*t)-Math.cos(4*t)); return [x,y]; }
for(let i=0;i<POINTS;i++){ const t=(i/POINTS)*Math.PI*2; const [x,y]=heart(t); pts.push({x,y,t}); }

let showCanvas=false;

function drawHeart(now){
  if(!showCanvas) return;
  const w = window.innerWidth, h = window.innerHeight;
  ctx.clearRect(0,0,w,h);
  const scale = Math.min(w,h)/50; const cx=w/2, cy=h/2.2;
  const time = now/1000; const rotate=Math.sin(time*0.7)*0.08;
  const offsetRadius=Math.sin(time*1.2)*3;
  ctx.save(); ctx.translate(cx,cy); ctx.rotate(rotate);

  for(let i=0;i<pts.length;i++){
    const p=pts[i]; const px=p.x*scale; const py=p.y*scale;
    const nx=px+(p.x/Math.hypot(p.x,p.y))*offsetRadius; const ny=py+(p.y/Math.hypot(p.x,p.y))*offsetRadius;
    const angle=Math.atan2(ny,nx)+Math.PI/2+Math.sin(time+i*0.02)*0.15;
    ctx.save(); ctx.translate(nx,ny); ctx.rotate(angle);
    const fontSize = Math.max(12, Math.min(28, Math.floor(Math.min(w,h)*0.022)));
    ctx.font = `bold ${fontSize}px -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial`;
    ctx.fillStyle = '#ff98c2';
    ctx.shadowColor='rgba(255,200,240,0.9)'; ctx.shadowBlur=8;
    const ch = "Feliz aniversÃ¡rio, Karols! "[i % "Feliz aniversÃ¡rio, Karols! ".length];
    ctx.textBaseline='middle';
    ctx.fillText(ch,0,0); ctx.restore();
  }
  ctx.restore();

  const innerR = Math.min(w,h)*0.14;
  ctx.save(); ctx.globalCompositeOperation='destination-out';
  ctx.beginPath(); ctx.arc(cx,cy,innerR,0,Math.PI*2); ctx.fill(); ctx.restore();

  ctx.save(); ctx.beginPath(); ctx.arc(cx,cy,innerR+2,0,Math.PI*2);
  ctx.strokeStyle='rgba(255,150,200,0.06)'; ctx.lineWidth=Math.min(w,h)*0.02; ctx.stroke(); ctx.restore();

  requestAnimationFrame(drawHeart);
}

// ======== BotÃ£o da surpresa final ========
heartButton.onclick=function(){
  canvas.style.display='block';
  showCanvas=true;
  heartButton.style.display='none';
  requestAnimationFrame(drawHeart); // garante que o coraÃ§Ã£o seja desenhado
}
</script>
</body>
</html>
